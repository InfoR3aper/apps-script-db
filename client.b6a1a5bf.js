webpackJsonp([1],[,,,,function(t,e,n){"use strict";var r=n(20),a=n(24),s=n(28);e.a={components:{UrlInput:r.a,DataList:a.a,AppName:s.a}}},function(t,e,n){"use strict";var r=n(6),a=n(22),s=n(3);n.n(s);e.a={data:function(){return{url:this.$store.state.url}},methods:{update:function(t){this.$store.commit("UPDATE_URL",{url:t}),this.$store.dispatch("GET_DATA")},copy:function(t){var e=location,n=e.protocol,r=e.hostname,s=e.port,i=e.pathname,u=[n,"//",r];80!==s&&""!==s&&(u=u.concat([":",s])),u=u.concat([i],"?url=",encodeURIComponent(t));var c=u.join("");Object(a.a)(c)?alert(this.$t("copy.success")):prompt(this.$t("copy.failed"),c)}},components:{XInput:r.a}}},function(t,e,n){"use strict";var r=n(7),a=n(21),s=n(0),i=s(r.a,a.a,!1,null,null,null);i.options.__file="src\\components\\XInput.vue",e.a=i.exports},function(t,e,n){"use strict";e.a={props:{value:{type:String,required:!0}},data:function(){return{text:this.value}},watch:{text:function(t){this.$emit("input",t)}}}},function(t,e,n){"use strict";var r=n(25);e.a={computed:{data:function(){return this.$store.state.data}},methods:{add:function(){var t=prompt(this.$t("key.add"));if(t){this.$store.state.data.filter(function(e){return e.key===t}).length>0?alert(this.$t("key.duplicate",{key:t})):this.$store.dispatch("SET_VALUE",{key:t,value:""})}}},components:{KeyValue:r.a}}},function(t,e,n){"use strict";var r=n(6);e.a={props:{data:{type:Object,required:!0}},data:function(){return{k:this.data.key,v:this.data.value}},methods:{update:function(){this.k&&this.v&&this.v!==this.data.value&&this.$store.dispatch("SET_VALUE",{key:this.k,value:this.v})},del:function(){this.k&&this.$store.dispatch("DEL_VALUE",{key:this.k})}},components:{XInput:r.a}}},function(t,e,n){"use strict";var r=n(30);e.a={components:{Loading:r.a}}},,function(t,e){t.exports={appname:"Apps Script DB",editor:"Editor",load:"Load",add:"Add",update:"Update",delete:"Delete",dburl:"Database Url",copy:{success:"Copied!",failed:"Copy failed! Please copy the following url."},key:{add:"Key:",duplicate:'Key "{key}" already exists.'}}},function(t,e,n){t.exports=n(14)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),a=(n.n(r),n(1)),s=n(18),i=n(19),u=n(35),c=n(41);Object(c.b)(navigator.language).then(function(t){return console.log("Language loaded: "+t)}),s.a.url&&u.a.commit("UPDATE_URL",{url:s.a.url}),u.a.state.url&&u.a.dispatch("GET_DATA"),new a.a({el:"#app",render:function(t){return t(i.a)},store:u.a,i18n:c.a})},,,,function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=Object.assign.apply(Object,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(location.search.replace(/^\?/,"").split("&").map(function(t){return t.split("=")}).map(function(t){return r({},t[0],decodeURIComponent(t[1]))})))},function(t,e,n){"use strict";var r=n(4),a=n(34),s=n(0),i=s(r.a,a.a,!1,null,null,null);i.options.__file="src\\components\\App.vue",e.a=i.exports},function(t,e,n){"use strict";var r=n(5),a=n(23),s=n(0),i=s(r.a,a.a,!1,null,null,null);i.options.__file="src\\components\\UrlInput.vue",e.a=i.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-prepend"},[t._t("prepend")],2),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.text},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$emit("enter")},input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[t._t("append")],2)])},a=[];r._withStripped=!0;var s={render:r,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function r(t){var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.focus(),e.select();var n=void 0;try{n=document.execCommand("copy")}catch(t){n=!1}return document.body.removeChild(e),n}e.a=r},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("x-input",{on:{enter:function(e){t.update(t.url)}},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}},[n("span",{staticClass:"input-group-text",attrs:{slot:"prepend"},on:{click:function(e){t.copy(t.url)}},slot:"prepend"},[t._v(t._s(t.$t("dburl")))]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{slot:"append"},on:{click:function(e){t.update(t.url)}},slot:"append"},[t._v(t._s(t.$t("load")))])])],1)},a=[];r._withStripped=!0;var s={render:r,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";var r=n(8),a=n(27),s=n(0),i=s(r.a,a.a,!1,null,null,null);i.options.__file="src\\components\\DataList.vue",e.a=i.exports},function(t,e,n){"use strict";var r=n(9),a=n(26),s=n(0),i=s(r.a,a.a,!1,null,null,null);i.options.__file="src\\components\\KeyValue.vue",e.a=i.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("x-input",{on:{enter:t.update},model:{value:t.v,callback:function(e){t.v=e},expression:"v"}},[n("span",{staticClass:"input-group-text",attrs:{slot:"prepend"},slot:"prepend"},[t._v(t._s(t.k))]),t._v(" "),n("template",{slot:"append"},[n("button",{staticClass:"btn btn-primary",on:{click:t.update}},[t._v(t._s(t.$t("update")))]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:t.del}},[t._v(t._s(t.$t("delete")))])])],2)],1)])},a=[];r._withStripped=!0;var s={render:r,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t._l(t.data,function(t,e){return n("key-value",{key:t.key,class:{"pt-2":e>0},attrs:{data:t}})}),t._v(" "),t.data?n("div",{staticClass:"row pt-2"},[n("div",{staticClass:"col-12"},[n("button",{staticClass:"btn btn-primary w-100",on:{click:t.add}},[t._v(t._s(t.$t("add")))])])]):t._e()],2)])},a=[];r._withStripped=!0;var s={render:r,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function r(t){i||n(29)}var a=n(10),s=n(33),i=!1,u=n(0),c=r,o=u(a.a,s.a,!1,c,"data-v-d5cec328",null);o.options.__file="src\\components\\AppName.vue",e.a=o.exports},function(t,e){},function(t,e,n){"use strict";function r(t){s||n(31)}var a=n(32),s=!1,i=n(0),u=r,c=i(null,a.a,!0,u,null,null);c.options.__file="src\\components\\Loading.vue",e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var r=function(t,e){var n=e._c;return e.props.loading?n("div",{staticClass:"spinner"},[n("div",{staticClass:"rect1"}),e._v(" "),n("div",{staticClass:"rect2"}),e._v(" "),n("div",{staticClass:"rect3"}),e._v(" "),n("div",{staticClass:"rect4"}),e._v(" "),n("div",{staticClass:"rect5"})]):e._e()},a=[];r._withStripped=!0;var s={render:r,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("h1",{staticClass:"pr-2 block-item"},[n("a",{attrs:{href:"https://github.com/maple3142/apps-script-db",target:"_blank"}},[t._v(t._s(t.$t("appname")))]),t._v(" "+t._s(t.$t("editor")))]),t._v(" "),n("div",{staticClass:"block-item"},[n("loading",{attrs:{loading:t.$store.state.loading}})],1)])},a=[];r._withStripped=!0;var s={render:r,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row pt-2"},[n("div",{staticClass:"col-12"},[n("app-name")],1)]),t._v(" "),n("div",{staticClass:"row pt-2"},[n("div",{staticClass:"col-12"},[n("url-input")],1)]),t._v(" "),n("div",{staticClass:"row pt-2"},[n("div",{staticClass:"col-12"},[n("data-list")],1)])])},a=[];r._withStripped=!0;var s={render:r,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(a,s){try{var i=e[a](s),u=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}var a=n(11),s=n.n(a),i=n(1),u=n(38),c=n(39),o=(n.n(c),n(40)),l=n.n(o);i.a.use(u.a);var p=new u.a.Store({state:{url:"",data:null,loading:!1,success:!1},mutations:{UPDATE_URL:function(t,e){var n=e.url;t.url=n},UPDATE_DATA:function(t,e){var n=e.data;return t.data=n},START_LOADING:function(t){return t.loading=!0},STOP_LOADING:function(t){return t.loading=!1},SUCCESS:function(t){return t.success=!0},FAILED:function(t){return t.success=!1}},actions:{GET_DATA:function(){function t(t){return e.apply(this,arguments)}var e=r(s.a.mark(function t(e){var n,r,a=e.commit,i=e.state;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.url){t.next=2;break}return t.abrupt("return");case 2:return n=new l.a(i.url,window.fetch.bind(window)),a("START_LOADING"),t.prev=4,t.t0=JSON,t.next=8,n.get("*");case 8:t.t1=t.sent,r=t.t0.parse.call(t.t0,t.t1),a("UPDATE_DATA",{data:Object.keys(r).map(function(t){return{key:t,value:r[t]}})}),t.next=18;break;case 13:return t.prev=13,t.t2=t.catch(4),a("STOP_LOADING"),a("UPDATE_DATA",{data:null}),t.abrupt("return");case 18:return t.prev=18,a("STOP_LOADING"),t.finish(18);case 21:case"end":return t.stop()}},t,this,[[4,13,18,21]])}));return t}(),SET_VALUE:function(){function t(t,n){return e.apply(this,arguments)}var e=r(s.a.mark(function t(e,n){var r,a=e.commit,i=e.dispatch,u=e.state,c=n.key,o=n.value;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.url){t.next=2;break}return t.abrupt("return");case 2:return r=new l.a(u.url),a("START_LOADING"),t.next=6,r.set(c,o);case 6:a("STOP_LOADING"),i("GET_DATA");case 8:case"end":return t.stop()}},t,this)}));return t}(),DEL_VALUE:function(){function t(t,n){return e.apply(this,arguments)}var e=r(s.a.mark(function t(e,n){var r,a=e.commit,i=e.dispatch,u=e.state,c=n.key;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.url){t.next=2;break}return t.abrupt("return");case 2:return r=new l.a(u.url),a("START_LOADING"),t.next=6,r.del(c);case 6:a("STOP_LOADING"),i("GET_DATA");case 8:case"end":return t.stop()}},t,this)}));return t}()}});e.a=p},,,,,,function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(a,s){try{var i=e[a](s),u=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}n.d(e,"a",function(){return l}),n.d(e,"b",function(){return d});var a=n(11),s=n.n(a),i=n(1),u=n(42),c=n(12),o=n.n(c);i.a.use(u.a);var l=new u.a({locale:navigator.language,fallbackLocale:"en",messages:{en:o.a}}),p=["en","zh-tw"],d=function(){var t=r(s.a.mark(function t(e){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=e.toLowerCase(),p.includes(e)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n(43)("./"+e+".json");case 5:return r=t.sent,l.setLocaleMessage(e,r),l.locale=e,document.querySelector("html").setAttribute("lang",e),t.abrupt("return",e);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},,function(t,e,n){function r(t){var e=a[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var a={"./en.json":[12],"./zh-tw.json":[44,0]};r.keys=function(){return Object.keys(a)},r.id=43,t.exports=r}],[13]);
//# sourceMappingURL=client.b6a1a5bf.js.map