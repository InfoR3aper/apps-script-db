webpackJsonp([1],[,,,,,,,function(t,e,n){"use strict";var a=n(25),r=n(28),s=n(32);e.a={components:{UrlInput:a.a,DataList:r.a,Loading:s.a},computed:{loading:function(){return this.$store.state.loading}}}},function(t,e,n){"use strict";var a=n(9),r=n(6);n.n(r);e.a={data:function(){return{url:this.$store.state.url}},methods:{update:function(t){var e=this;this.$store.commit("UPDATE_URL",{url:t}),this.$store.dispatch("GET_DB"),this.$store.dispatch("GET_DATA").catch(function(){e.$store.commit("UPDATE_DATA",{data:[]}),e.$nextTick(function(){return Object(r.setTimeout)(function(){return alert("Not a database url!")},50)})})}},components:{XInput:a.a}}},function(t,e,n){"use strict";var a=n(10),r=n(26),s=n(1),i=s(a.a,r.a,!1,null,null,null);i.options.__file="src\\components\\XInput.vue",e.a=i.exports},function(t,e,n){"use strict";e.a={props:{value:{type:String,required:!0}},data:function(){return{text:this.value}},watch:{text:function(t){this.$emit("input",t)}}}},function(t,e,n){"use strict";var a=n(29);e.a={computed:{data:function(){return this.$store.state.data}},methods:{add:function(){var t=prompt("key:");if(t){this.$store.state.data.filter(function(e){return e.key===t}).length>0?alert('Key "'+t+'" already exists.'):this.$store.dispatch("SET_VALUE",{key:t,value:""})}}},components:{KeyValue:a.a}}},function(t,e,n){"use strict";var a=n(9);e.a={props:{data:{type:Object,required:!0}},data:function(){return{k:this.data.key,v:this.data.value}},methods:{update:function(){this.k&&this.v&&this.$store.dispatch("SET_VALUE",{key:this.k,value:this.v})},del:function(){this.k&&this.$store.dispatch("DEL_VALUE",{key:this.k})}},components:{XInput:a.a}}},function(t,e,n){"use strict";e.a={props:{loading:{type:Boolean,required:!0}}}},,,,,,function(t,e,n){t.exports=n(20)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),r=(n.n(a),n(5)),s=n(23),i=n(36);new r.a({el:"#app",render:function(t){return t(s.a)},store:i.a})},,,function(t,e,n){"use strict";function a(t){i||n(24)}var r=n(7),s=n(35),i=!1,c=n(1),u=a,o=c(r.a,s.a,!1,u,"data-v-38cab9c1",null);o.options.__file="src\\components\\App.vue",e.a=o.exports},function(t,e){},function(t,e,n){"use strict";var a=n(8),r=n(27),s=n(1),i=s(a.a,r.a,!1,null,null,null);i.options.__file="src\\components\\UrlInput.vue",e.a=i.exports},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-prepend"},[t._t("prepend")],2),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[t._t("append")],2)])},r=[];a._withStripped=!0;var s={render:a,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("x-input",{model:{value:t.url,callback:function(e){t.url=e},expression:"url"}},[n("span",{staticClass:"input-group-text",attrs:{slot:"prepend"},slot:"prepend"},[t._v("Database url")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{slot:"append"},on:{click:function(e){t.update(t.url)}},slot:"append"},[t._v("Fetch")])])],1)},r=[];a._withStripped=!0;var s={render:a,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";var a=n(11),r=n(31),s=n(1),i=s(a.a,r.a,!1,null,null,null);i.options.__file="src\\components\\DataList.vue",e.a=i.exports},function(t,e,n){"use strict";var a=n(12),r=n(30),s=n(1),i=s(a.a,r.a,!1,null,null,null);i.options.__file="src\\components\\KeyValue.vue",e.a=i.exports},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("x-input",{model:{value:t.v,callback:function(e){t.v=e},expression:"v"}},[n("span",{staticClass:"input-group-text",attrs:{slot:"prepend"},slot:"prepend"},[t._v(t._s(t.k))]),t._v(" "),n("div",{staticClass:"input-group-append",attrs:{slot:"append"},slot:"append"},[n("button",{staticClass:"btn btn-primary",on:{click:t.update}},[t._v("Update")]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:t.del}},[t._v("Delete")])])])],1)])},r=[];a._withStripped=!0;var s={render:a,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t._l(t.data,function(t,e){return n("key-value",{key:t.key,class:{"pt-2":e>0},attrs:{data:t}})}),t._v(" "),n("div",{staticClass:"row pt-2"},[n("div",{staticClass:"col-12"},[n("button",{staticClass:"btn btn-primary w-100",on:{click:t.add}},[t._v("Add")])])])],2)])},r=[];a._withStripped=!0;var s={render:a,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function a(t){i||n(33)}var r=n(13),s=n(34),i=!1,c=n(1),u=a,o=c(r.a,s.a,!1,u,"data-v-2605d148",null);o.options.__file="src\\components\\Loading.vue",e.a=o.exports},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("div",{staticClass:"spinner"},[n("div",{staticClass:"rect1"}),t._v(" "),n("div",{staticClass:"rect2"}),t._v(" "),n("div",{staticClass:"rect3"}),t._v(" "),n("div",{staticClass:"rect4"}),t._v(" "),n("div",{staticClass:"rect5"})]):t._e()},r=[];a._withStripped=!0;var s={render:a,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row pt-2"},[n("div",{staticClass:"col-12"},[t._m(0),t._v(" "),n("loading",{attrs:{loading:t.loading}})],1)]),t._v(" "),n("div",{staticClass:"row pt-2"},[n("div",{staticClass:"col-12"},[n("url-input")],1)]),t._v(" "),n("div",{staticClass:"row pt-2"},[n("div",{staticClass:"col-12"},[n("data-list")],1)])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"pr-2"},[n("a",{attrs:{href:"https://github.com/maple3142/apps-script-db",target:"_blank"}},[t._v("Apps Script DB")]),t._v(" Editor")])}];a._withStripped=!0;var s={render:a,staticRenderFns:r};e.a=s},function(t,e,n){"use strict";function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function a(r,s){try{var i=e[r](s),c=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(c).then(function(t){a("next",t)},function(t){a("throw",t)});t(c)}return a("next")})}}var r=n(37),s=n.n(r),i=n(5),c=n(40),u=n(41),o=n.n(u),l=n(42),p=n.n(l);i.a.use(c.a);var d=new c.a.Store({state:{url:"",db:null,data:[],loading:!1},mutations:{UPDATE_URL:function(t,e){var n=e.url;return t.url=n},UPDATE_DB:function(t,e){var n=e.db;return t.db=n},UPDATE_DATA:function(t,e){var n=e.data;return t.data=n},START_LOADING:function(t){return t.loading=!0},STOP_LOADING:function(t){return t.loading=!1}},actions:{GET_DB:function(t){var e=t.commit,n=t.state;n.url&&e("UPDATE_DB",{db:new p.a(n.url)})},GET_DATA:function(){function t(t){return e.apply(this,arguments)}var e=a(s.a.mark(function t(e){var n,a=e.commit,r=e.state;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.db){t.next=2;break}return t.abrupt("return");case 2:return a("START_LOADING"),t.t0=JSON,t.next=6,r.db.get("*");case 6:t.t1=t.sent,n=t.t0.parse.call(t.t0,t.t1),a("UPDATE_DATA",{data:Object.keys(n).map(function(t){return{key:t,value:n[t]}})}),a("STOP_LOADING");case 10:case"end":return t.stop()}},t,this)}));return t}(),SET_VALUE:function(){function t(t,n){return e.apply(this,arguments)}var e=a(s.a.mark(function t(e,n){var a=e.commit,r=e.dispatch,i=e.state,c=n.key,u=n.value;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.db){t.next=2;break}return t.abrupt("return");case 2:return a("START_LOADING"),t.next=5,i.db.set(c,u);case 5:a("STOP_LOADING"),r("GET_DATA");case 7:case"end":return t.stop()}},t,this)}));return t}(),DEL_VALUE:function(){function t(t,n){return e.apply(this,arguments)}var e=a(s.a.mark(function t(e,n){var a=e.commit,r=e.dispatch,i=e.state,c=n.key;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.db){t.next=2;break}return t.abrupt("return");case 2:return a("START_LOADING"),t.next=5,i.db.del(c);case 5:a("STOP_LOADING"),r("GET_DATA");case 7:case"end":return t.stop()}},t,this)}));return t}()},plugins:[o()({namespace:"store",keys:["url"]})]});d.dispatch("GET_DB"),d.dispatch("GET_DATA"),e.a=d}],[19]);
//# sourceMappingURL=client.9c08a08d.js.map